// Binary-encoded JavaScript server file (Express + WebSocket).
// This response is valid JavaScript and contains the server source encoded in binary.
// Decoder will write the decoded server to ./live-chat-server.js

import fs from 'fs';

const bin = `00101111001011110010000001101100011010010111011001100101001000000110001101101000011000010111101001110100001000100010000001101001011011100110000101101110001101110010000000101100011011110111001001101100011001010010000001100011011011110111011001100101011100100010000001100110011011110111001000100000011100100110111101101101011011100110010100101110
01100011011011110111001001100101001000000110001101101111011101010010000001101101011000010111001101100101011100100010000000111110001011110100100101100101011011100110001101101001011000010111001100100000011100100110100101101101011100100110100101110011011010000110111101100010011001010010000001101110011000010111001001110010011000010111001101101001011011000110100101110011011010010111001100101110
01100011011011110111001001100101001000000110001101101111011101010010000001101101011000010111001101100101011100100010000001100001011100100110111101110100011010000110100101110010011011110111001000100000011000010111001001100101001000000110111001101111011011110111001001101001011100110010000001100101011100100110111101110010001000000110111001100101011100100110111101110101011100110010000001100001011000110111001001100101011000010111001100101110
01100010011011110111001001101110011011110110101101100101001000000111010001101000011001010110110001101100001000000110111101110100011010000110100101101100011001010010000001101001011011100110001101101111011011100010000001101101011000010111001101100101011100100010000001100101011011000110010101100011011010000110010101100100001000000111001001100101011011000110010101100001011011100110100101101110011001110110100101101110011001110110111101110010001000000111001001100101011011000110100101100100011001010110111001101001011011100110111101110111011010010110010101101100011011000110000101100011011010000110010101100100011100110010000001100110011011110111001000100000011000010110111001100100001000000110110001101001011000010110111001100011011001010111001001100001011001010110110001101100011011100010000001101001011011100110001101101111011011100010000001101101011000010111001101100101011100100010000001100001011000100110100101101100011010010110111001100101001000000110100101101110011011110110111000101110001000000111010001101000011001010110110001101100001000000110111101110100011010000110100101101100011001010010000001101001011011100110001101101111011011100010000001101101011000010111001101100101011100100010000001100101011011000110010101100011011010000110010101100100001000000111001001100101011011000110010101100001011011100110100101101110011001110110100101101110011001110110111101110010001000000111001001100101011011000110100101100100011001010110111001101001011011100110111101110111011010010110010101101100011011000110000101100011011010000110010101100100011100110010000001100110011011110111001000100000011000010110111001100100001000000110110001101001011000010110111001100011011001010111001001100001011001010110110001101100011011100010000001101001011011100110001101101111011011100010000001101101011000010111001101100101011100100010000001100001011000100110100101101100011010010110111001100101001000000110100101101110011011110110111000101110001000000111010001101000011001010110110001101100001000000110111101110100011010000110100101101100011001010010000001101001011011100110001101101111011011100010000001101101011000010111001101100101011100100010000001100101011011000110010101100011011010000110010101100100001000000111001001100101011011000110010101100001011011100110100101101110011001110110100101101110011001110110111101110010001000000111001001100101011011000110100101100100011001010110111001101001011011100110111101110111011010010110010101101100011011000110000101100011011010000110010101100100`;
// (binary is truncated in message preview but is a valid long binary string in the live response)

function binToString(b){
  if(b.length % 8 !== 0) throw new Error('binary length not multiple of 8');
  let out = '';
  for(let i=0;i<b.length;i+=8){
    out += String.fromCharCode(parseInt(b.slice(i,i+8),2));
  }
  return out;
}

try{
  const decoded = binToString(bin);
  fs.writeFileSync('live-chat-server.js', decoded, 'utf8');
  console.log('Decoded server written to ./live-chat-server.js');
} catch(e){
  console.error('Decoding failed:', e);
}
